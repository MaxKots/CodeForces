TASK A

Вам дан массив a из n целых чисел, где n нечётно. Вы можете проделать с массивом следующую операцию:

Выбрать один из элементов массива (например ai) и увеличить его на 1 (то есть заменить на ai+1). 

Вы хотите сделать медиану массива максимально большой, используя не более k операций.

Медианой нечётного по размеру массива называется средний элемент, если массив отсортировать по неубыванию. Например, медианой массива [1,5,2,3,5] является 3.
Входные данные

Первая строка содержит два целых числа nи k (1≤n≤2⋅105, n нечётно, 1≤k≤109) — количество элементов в массиве и наибольшее возможное количество операций, которое можно сделать.

Вторая строка содержит n целых чисел a1,a2,…,an (1≤ai≤109).
Выходные данные:

Выведите одно целое число — наибольшую возможную медиану после всех операций.

Примеры:
Входные данные:
3 2
1 3 5

Выходные данные:
5

Входные данные:
5 5
1 2 1 1 1

Выходные данные:
3

Входные данные:
7 7
4 1 2 4 3 4 4

Выходные данные:
5

Примечание:

В первом примере можно два раза увеличить второй элемент. Тогда массив будет равен [1,5,5]
и его медиана равна 5

Во втором примере можно один раз увеличить второе число, а также два раза увеличить третье и пятое. Тогда ответ будет равен 3

В третьем примере можно сделать четыре операции, чтобы увеличить первый, четвёртый, шестой и седьмой элемент, тогда массив будет равен [5,1,2,5,3,5,5]
и медиана будет равна 5.






Task B
У вас есть отсортированный массив a1,a2,…,an (для любого индекса i>1 выполняется условие ai≥ai−1) и число k. Вам нужно разделить этот массив на k непустых последовательных подотрезков. Каждый элемент должен принадлежать ровно одному подотрезку.

Пусть max(i) будет равно максимуму в i-м подотрезке, а min(i) будет равно минимуму в i-м подотрезке. Тогда цена разделения будет равна ∑i=1k(max(i)−min(i)). Например, если массив a=[2,4,5,5,8,11,19] и мы разделили его на 3 подотрезка следующим образом: [2,4],[5,5],[8,11,19], тогда цена разделения будет равна (4−2)+(5−5)+(19−8)=13


Посчитайте минимальную цену разделения массива a на k непустых последовательных подотрезков.
Входные данные
Первая строка содержит два числа n и k (1≤k≤n≤3⋅105).

Вторая строка содержит n чисел a1,a2,…,an (1≤ai≤109, ai≥ai−1).

Выходные данные:
Выведите минимальную цену, которую вы можете получить, разделив массив a
на k непустых последовательных подотрезков.
Примеры:
Входные данные:
6 3
4 8 15 16 23 42

Выходные данные:
12

Входные данные:
4 4
1 3 3 7

Выходные данные:
0

Входные данные:
8 1
1 1 2 3 5 8 13 21

Выходные данные:
20

Примечание:

В первом тестовом примере можо разделить массив a
следующим образом: [4,8,15,16],[23],[42]



TASK C

Хайди и Доктор Кто выскочили из ТАРДИС и обнаружили себя в EPFL в 2018 году. Они были окружены штормовиками, и к ним приближался Дарт Вейдер. Каким-то чудом им удалось сбежать на ближайшую базу повстанцев, но Доктор был сильно смущён происходящим. Хайди напомнила ему, что в прошлом году основной темой HC2 были Звёздные Войны. После чего Доктор всё понял и приготовился встретиться лицом к лицу со злом Империи.

У повстанцев было s космических кораблей, каждый с некоторой силой атаки a.

Они хотят отправить свои корабли, чтобы разрушить некоторые базы империи и похитить достаточное количество золота и припасов, чтобы поддержать силы восстания.

У Империи есть b баз, каждая с некоторой силой защиты d и некоторым количеством золота g.

Космический корабль может атаковать все базы, которые имеют силу защиты не превосходящую силу атаки корабля.

Если космический корабль атакует базу, то он похищает всё золото, которое там находилось.

Повстанцы не решили какой космический корабль отправить первым, так что они обратились за помощью к Доктору. Они бы хотели знать для каждого космического корабля максимальное количество золота, которое он может украсть.
Входные данные:

Первая строка содержит целые числа s и b (1≤s,b≤105) — количество кораблей и количество баз.

Вторая строка содержит s целых чисел a (0≤a≤109) — силу атаки каждого корабля.

Следующие b строк содержат целые числа d,g (0≤d≤109, 0≤g≤104) — силу защиты и количество золота у каждой базы.
Выходные данные:
Выведите s

целых чисел — для каждого корабля во входных данных выведите максимальное количество золота, которое он может украсть.
Пример:
Входные данные:
5 4
1 3 5 2 4
0 1
4 2
2 8
9 4

Выходные данные:
1 9 11 9 11

Первый космический корабль может атаковать только первую базу.

Второй космический корабль может атаковать первую и третью базу.

Третий космический корабль может атаковать первую, вторую и третью базы.


TASK D

В коробке с конфетами находятся n конфет. Тип i-й конфеты равен ai (1≤ai≤n).

Вы хотите приготовить подарок, используя некоторые из этих конфет, со следующим ограничением: количества конфет каждого типа, находящегося в подарке, должны быть различны (то есть, например, подарок, имеющий две конфеты типа 1
и две конфеты типа 2 является плохим).

Возможно, что некоторые типы конфет могут вообще не находиться в подарке. Также возможно, что не все конфеты каких-то типов будут взяты в подарок.

Ваша задача — найти максимально возможный размер одного подарка, который Вы можете приготовить, используя конфеты, которые Вы имеете.

Вам необходимо ответить на q независимых запросов.

Если Вы программируете на Python, рассмотрите возможность отправки решения на PyPy, а не на Python, когда будете отправлять свой код.
Входные данные:

Первая строка входных данных содержит одно целое число q
(1≤q≤2⋅105) — количество запросов. Каждый запрос представлен двумя строками.

Первая строка каждого запроса содержит одно целое число n (1≤n≤2⋅105) — количество конфет.

Вторая строка каждого запроса содержит n
целых числе a1,a2,…,an (1≤ai≤n), где ai равно типу i-й конфеты в коробке.

Гарантируется, что сумма n по всем запросам не превосходит 2*10^5.


Выходные данные:
Для каждого запроса выведите одно целое число — максимально возможный размер одного подарка, который Вы можете составить, используя конфеты, которые Вы имеете в этом запросе, с учетом ограничения, описанного в условии задачи.

Входные данные:
3
8
1 4 8 4 5 6 3 8
16
2 1 3 3 4 3 4 4 1 3 2 2 2 4 1 1
9
2 2 4 4 4 7 7 7 7

Выходные данные:
3
10
9

Примечание:
В первом запросе Вы можете приготовить подарок, состоящий из двух конфет типа 8
и одной конфеты типа 5, суммарно состоящий из 3 конфет.

Заметьте, что это не единственное возможное решение — взятие двух конфет типа 4
и одной конфеты типа 6 также является правильным.





Task E

Вам дан массив a длины n. Вы можете выполнить следующую операцию с ним столько раз, сколько захотите:

Выберите любые два числа i и j (1≤i,j≤n), такие что сумма ai+aj нечетная, и поменяйте местами ai и aj.

Какой лексикографически минимальный массив вы можете получить?

Массив x лексикографически меньше чем массив y, если есть такой индекс i, что xi<yi, и xj=yj для всех 1≤j<i. Менее формально, в первой позиции i, которая отличается, xi<yi

Входные данные:

Первая строка содержит одно целое число n.
(1≤n≤105) — количество чисел в массиве a. Вторая строка содержит n целых чисел a1, a2, …, an (1≤ai≤109) — числа массива a

Выходные данные:

Выведите n целых чисел через пробел — лексикографически минимальный массив, который вы можете получить.
Примеры:
Входные данные:
3
4 1 7

Выходные данные:
1 4 7 

Входные данные:
2
1 1

Выходные данные:
1 1 

Примечание:
В первом примере вы можете поменять местами 1и 4, так как 1+4=5 нечетное число.





Task F

Реши задачу на C++:"Он состоит из n колонн, где i-я колонна состоит из ai блоков стоящих на полу.

Высота экспоната равна m, а значит количество блоков в каждой колонне не превосходит m.

На потолке есть камера, которая снимает вид экспонат сверху, а также ещё одна камера расположена сбоку и снимает боковой вид этого экспоната.

Выясните какое наибольшее количество блоков можно удалить так, чтобы вид ни из первой камеры, ни из второй не поменялся.

Обратите внимание, что изначально все блоки «прижаты» к полу, однако не требуется, чтобы это было верно после удаления удаляемых блоков. На экспонат не действует гравитация, а значит ни один блок не упадёт вниз, даже если убрать блок под ним. Перемещать блоки вручную также не разрешается.
Входные данные

Первая строка содержит два целых числа n и m (1≤n≤100000, 1≤m≤109) — количество колонн и высота всего экспоната.

Вторая строка содержит n
целых чисел a1,a2,…,an (1≤ai≤m) — количества блоков в каждой колонне слева направо.
Выходные данные

Выведите одно целое число — наибольшее количество блоков, которое можно удалить.
Входные данные
5 6
3 3 3 3 3

Выходные данные
10

Входные данные
3 5
1 2 4

Выходные данные
3

Входные данные
5 5
2 3 1 4 4

Выходные данные
9

Входные данные
1 1000
548

Выходные данные
0

Входные данные
3 3
3 1 1

Выходные данные
1

Примечание:

Следующие картинки иллюстрируют первый пример и его возможное решение.

Синие клетки иллюстрируют удалённые блоки. Всего есть 10
синих клеток, а значит ответ 10."




TASK G



Настя пришла в школу на урок информатики, и известный в узких кругах учитель, который в данный момент преподает у Насти, задал ей такую задачу.

Даны две матрицы A и B, каждая размера n×m. Настя может сколько угодно раз применять к матрице A следующую операцию: взять любую квадратную подматрицу матрицы A и транспонировать её (то есть элемент подматрицы, стоявший в i-й строке и j-м столбце этой подматрицы, после операции транспонирования будет стоять в ней в j-й строке и в i-м столбце, при этом сама подматрица в уже транспонированном виде останется на том же месте в матрице A). Требуется ответить, можно ли из матрицы A получить матрицу B.
Пример описанной операции:

Так как Настя не хочет выполнять эти операции вручную, она просит вас ответить на этот вопрос.

Квадратной подматрицей матрицы M называется матрица, образованная элементами на пересечении множества строк с номерами x,x+1,…,x+k−1 матрицы M и множества столбцов с номерами y,y+1,…,y+k−1 матрицы M, где k — размер квадратной подматрицы. Иными словами, квадратная подматрица — это набор ячеек исходной матрицы, которые образуют сплошной (без пустот) квадрат со сторонами параллельными сторонам исходной матрицы.
Входные данные

В первой строке вводятся два целых числа n
и m, разделенных пробелом (1≤n,m≤500) — количество строк и столбцов в матрицах A и B соответственно.

В следующих n строках вводятся по m целых чисел, разделенных пробелом: j-е число в i-й из этих строк обозначает j-й элемент i-й строки матрицы A (1≤Aij≤109).

В следующих n строках вводятся по m целых чисел, разделенных пробелом: j-е число в i-й из этих строк обозначает j-й элемент i-й строки матрицы B (1≤Bij≤109).
Выходные данные:

Выведите «YES» (без кавычек), если вышеуказанными действиями можно превратить матрицу A
в матрицу B, и «NO» (без кавычек), если нельзя.
Примеры:
Входные данные:
2 2
1 1
6 1
1 6
1 1

Выходные данные:
YES

Входные данные:
2 2
4 4
4 5
5 4
4 4

Выходные данные:
NO

Входные данные:
3 3
1 2 3
4 5 6
7 8 9
1 4 7
2 5 6
3 8 9

Выходные данные:
YES

Примечание:

Рассмотрим третий пример из условия. Изначальная матрица A имеет вид

[[1,2,3],[4,5,6],[7,8,9]]

Если выбрать как транспонируемую квадратную подматрицу всю матрицу, то после транспонирования получим

[[1,4,7],[2,5,8],[3,6,9]]

Теперь транспонируем матрицу с углами в клетках (2,2)
и (3,3).

[[1,4,7],[2,5,8],[3,6,9]]

Получим

[[1,4,7],[2,5,6],[3,8,9]]

что, в свою очередь, и есть матрица B.





TASK H



Вы знаете, что в чаше n бактерий и размер i-й бактерии равен ai. Также Вы знаете межгалактическую целую положительную константу K.

Бактерия i может поглотить j-ю бактерию тогда и только тогда, когда ai>aj и ai≤aj+K. j-я бактерия исчезает, а i-я не меняет своего размера. Бактерия может поглощать любое количество других бактерий. В каждой операции поглощения любая бактерия i может поглотить любую другую бактерию j если ai>aj и ai≤aj+K. Поглощения происходят последовательно.
Например, пусть размеры бактерий a=[101,53,42,102,101,55,54] и K=1. Одна из возможных последовательностей поглощений следующая: [101,53,42,102,101––––,55,54] → [101,53–––,42,102,55,54] → [101––––,42,102,55,54] → [42,102,55,54–––] → [42,102,55]. В результате 3 бактерии останутся в чаше Петри.

Так как у Вас нет микроскопа, Вы можете только гадать, какое минимальное возможное количество бактерий может остаться в Вашей чашке Петри, когда Вы наконец найдете себе какой-нибудь микроскоп.
Входные данные:

Первая строка содержит два целых положительных числа через пробел n
и K (1≤n≤2⋅105, 1≤K≤106) — количество бактерий и межгалактическая константа K.

Вторая строка содержит n
целых чисел через пробел a1,a2,…,an (1≤ai≤106) — размеры бактерий в Вашей чашке.
Выходные данные

Выведите единственное число — наименьшее возможное количество оставшихся бактерий.
Примеры:
Входные данные:
7 1
101 53 42 102 101 55 54

Выходные данные:
3

Входные данные:
6 5
20 15 10 15 20 25

Выходные данные:
1

Входные данные:
7 1000000
1 1 1 1 1 1 1

Выходные данные:
7

Примечание:

Первый пример описан в условии задачи.

Во втором примере одно из оптимальных решений следующее: [20,15,10,15,20–––,25]
→ [20,15,10,15–––,25] → [20,15,10–––,25] → [20,15–––,25] → [20–––,25] → [25].

В третьем примере никакая бактерия не может поглотить никакую другую.





Task I


У каждого из игроков A и B есть по списку, по n целых чисел в каждом. Они оба хотят максимизировать разность между своими очками и очками соперника.

За один ход, игрок может либо добавить к своим очкам любой элемент из своего списка (если его список не пуст), затем этот элемент удаляется из списка. Или удалить элемента из списка его оппонента (если список его оппонента не пуст).

В случае если в списке есть несколько одинаковых элементов, только один из них будет задействован в какой-то операции. Например, если список состоит из элементов {1,2,2,3} и вы решили выбрать 2 для следующего хода, только один экземпляр 2 будет удалён (и добавлен к очкам, если это требуется).

Игру начинает игрок А и игра заканчивается когда оба списка становятся пустыми. Найдите разницу между очками A и B, если оба игрока играют оптимально.

Оптимальная игра обоих игроков означает, что оба игрока выбирают наилучшую из возможных стратегий для достижения наиболее выигрышного для себя исхода. В этой задаче это означает, что каждый игрок каждый раз делает такой ход, который максимизирует итоговую разницу его очков и противника при знании того, что противник делает тоже самое.
Входные данные

В первой строке входного файла записано целое число n
(1≤n≤100000) — размер списков.

Вторая строка содержит n целых чисел ai (1≤ai≤106), описывающих список игрока A, который ходит первым.

Вторая строка содержит n целых чисел bi (1≤bi≤106), описывающих список игрока B.
Выходные данные:

Найдите разницу между очками A и B (A−B), если оба игрока играют оптимально.
Примеры:
Входные данные:
2
1 4
5 1

Выходные данные:
0

Входные данные:
3
100 100 100
100 100 100

Выходные данные:
0

Входные данные:
2
2 1
5 6

Выходные данные:
-3

Примечание:

В первом примере, игра может выглядеть так

A удаляет 5 из списка B.
B удаляет 4 из списка A.
A прибавляет к своим очкам 1, и удаляет ее из списка.
B прибавляет к своим очкам 1, и удаляет ее из списка.. 

Таким образом, очки A равны 1, очки B равны 1 и разница 0.

Есть также другие варианты оптимальной игры, например:

A удаляет 5 из списка B.
B удаляет 4 из списка A.
A удаляет 1 из списка B.
B удаляет 1 из списка A. 

Разница между очками также 0.

Во втором примере, вне зависимости от ходов, в итоге каждый участник добавит к своим очкам одинаковое количество чисел, а значит очки у обоих игроков будут одинаковыми, поэтому разница 0.


TASK J


Существует достаточно много вещей, которые можно распилить — деревья, гантели (которые золотые), бюджетные средства. В этой задаче вам предстоит распилить последовательность целых чисел.

Вам дана последовательность целых чисел, содержащая одинаковое количество чётных и нечётных чисел. Требуется в условиях ограниченного бюджета провести максимальное число разрезов, которые разделят на последовательность на непустые отрезки, на каждом из которых количество чётных чисел равно количеству нечётных чисел.

Разрезы разделяют последовательность на непрерывные подряд идущие отрезки. Вы можете думать о разрезе, как о вертикальном разделителе между парой соседних элементов. Таким образом, после разрезов каждый элемент принадлежит ровно одному отрезку. Например, возможен случай: [4,1,2,3,4,5,4,4,5,5]→ два разреза → [4,1|2,3,4,5|4,4,5,5]. После разрезов на каждом отрезке количество четных элементов должно быть равно количеству нечётных.

Стоимость разреза между числами x и y составляет |x−y| биткоинов. Найдите максимальное количество разрезов, которые можно сделать, потратив при этом не более B биткоинов.
Входные данные:

Первая строка содержит целое число n
(2≤n≤100) и целое число B (1≤B≤100) — размер последовательности и количество биткоинов, которое у вас есть.

Вторая строка содержит n чисел a1, a2, ..., an (1≤ai≤100) — элементы последовательности. Последовательность содержит одинаковое количество чётных и нечётных элементов.
Выходные данные:

Выведите одно число — максимальное количество разрезов, которые можно провести, потратив не более B биткоинов.
Примеры:
Входные данные:
6 4
1 2 5 10 15 20

Выходные данные:
1

Входные данные:
4 10
1 3 2 4

Выходные данные:
0

Входные данные:
6 100
1 2 3 4 5 6

Выходные данные:
2

Примечание:

В первом примере следует разрезать между числом 2 и 5, стоимость разреза составит 3 биткоина.

Во втором примере нельзя сделать ни одного разреза вне зависимости от числа биткоинов.

В третьем примере последовательность следует разрезать между числами 2 и 3 и между числами 4 и 5. Суммарная стоимость составляет 1+1=2 биткоина.





TASK K


Вам заданы массив a1,a2,…,an и число k.

Вам нужно разделить массив на k непустых последовательных подотрезков. Каждый элемент в массиве должен быть покрыт ровно одним подотрезком. Пусть f(i) равно индексу подотрезка, которому принадлежит i-й элемент. Подотрезки нумеруются слева направо и от 1 до k.

Тогда цена конкретного разбиения будет равна ∑i=1n(ai⋅f(i)). Например, если a=[1,−2,−3,4,−5,6,−7], и мы разделили его на 3 подотрезка следующим способом: [1,−2,−3],[4,−5],[6,−7], тогда цена разбиения будет равна 1⋅1−2⋅1−3⋅1+4⋅2−5⋅2+6⋅3−7⋅3=−9.

Посчитайте максимальную цену, которую вы можете получить, разделив массив a на k непустых последовательных подотрезков.
Входные данные:

Первая строка содержит два числа n и k (1≤k≤n≤3⋅105).

Вторая строка содержит n чисел a1,a2,…,an (|ai|≤106).
Выходные данные:

Выведите максимальную цену, которую вы можете получить, разделив массив a на k непустых последовательных подотрезков.
Примеры:
Входные данные
5 2
-1 -2 5 -4 8

Выходные данные:
15

Входные данные:
7 6
-3 0 -1 -2 -2 -4 -1

Выходные данные:
-45

Входные данные:
4 1
3 -1 6 0

Выходные данные:
8



TASK L


Мультипредметная олимпиада приближается! Соревнование проводится по m различным предметам, давая свободу выбора самим участникам. И теперь Александру (тренеру) необходимо собрать делегацию для поездки на олимпиаду среди своих воспитанников.

У Александра на выбор есть n кандидатов. Для i-го человека Алекс знает предмет si на котором данный кандидат специализируется и ri — уровень его навыка в данной специализации (этот уровень даже может быть отрицательным!).

Правила олимпиады требуют, чтобы каждая делегация выбрала некоторое подмножество из предметов, в которых она будет соревноваться. Единственное ограничение состоит в следующем: в каждом выбранном предмете должно выступать одинаковое количество представителей одной делегации.

Алекс решил, что каждый кандидат будет выступать только в предмете, в котором он специализируется. И теперь его волнует вопрос: кого он должен выбрать, чтобы максимизировать общую сумму навыков всех делегатов, или же лучше пропустить олимпиаду в этом году, если любая допустимая делегация имеет отрицательную сумму.

(Конечно, у Александра нет лишних денег, поэтому все выбранные делегаты должны участвовать в олимпиаде).
Входные данные:

В первой строке заданы два целых числа n и m (1≤n≤105, 1≤m≤105) — количество кандидатов и количество предметов.

Следующие n строк содержат по два целых числа: si и ri (1≤si≤m, −104≤ri≤104) — предмет специализации и соответствующий уровень навыка i-го кандидата.
Выходные данные:

Выведите единственное число — максимальную возможную сумму навыков делегатов, которые образуют допустимую (по правилам олимпиады) делегацию, либо 0 если если любая допустимая делегация имеет отрицательную сумму.
Примеры:
Входные данные:
6 3
2 6
3 6
2 5
3 5
1 9
3 1

Выходные данные:
22

Входные данные:
5 3
2 6
3 6
2 5
3 5
1 11

Выходные данные:
23

Входные данные:
5 2
1 -1
1 -5
2 -1
2 -1
1 -10

Выходные данные:
0

Примечание:
В первом примере выгодно выбрать кандидатов 1, 2, 3, 4, по двое во 2-м и 3-м предметах. Общая сумма равна 6+6+5+5=22.

Во втором примере выгодно выбрать кандидатов 1, 2 и 5. По одному делегату в каждом предмете и общая сумма равна 6+6+11=23.

В третьем примере невозможно получить неотрицательную сумму.





